<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="./index.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KAKAO ClONE</title>
</head>
<body>
  <div id="main-img-wrapper">
    <img width="320" src="./coding_image.png" alt="coding_image">
  </div>
  <div id="intro-main">
    <p>이미 모두의 은행 카카오뱅크,</p>
    <p>함께 일해요.</p>
    <p id="join-us-text">Join us!</p>
    <img id="down-arrow-icon" src="./down-arrow.png" alt="down-arrow">
  </div>
  <ul id="list-item-wrapper">
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
    <li class="list-item">✌️류현식은어떻게강캐가되었나</li>
  </ul>
<main>
  <section id="panell-img">
    <img id="flying-santa-image"src="santa_flying.png" alt="flying-santa">
  </section>
</main>


</body>
<script>
  const listWrapper = document.getElementById("list-item-wrapper");
  const listWrapperOffset = listWrapper.offsetTop
  const listStyleChangeStartY = window.innerHeight - listWrapperOffset + window.innerHeight/2 - 200
  const listStyleChangeEndY = 2150
  const listItems = document.querySelectorAll('.list-item')
  const eachPixel = (listStyleChangeEndY - listStyleChangeStartY) / listItems.length
  
  const panellImage = document.getElementById('panell-img')
  const flyingSanta = document.getElementById('flying-santa-image')

  window.addEventListener("scroll", ()=> {
    if(document.getElementById("on")) document.getElementById("on").removeAttribute("id")

    if(window.scrollY > listStyleChangeStartY && window.scrollY < listStyleChangeEndY) {
      const valueIndex = Math.floor((window.scrollY - listStyleChangeStartY) / eachPixel)
      if(listItems[valueIndex]) listItems[valueIndex].id = "on"
    }
    const scrollYBottom = window.scrollY + document.documentElement.clientHeight 

    if (scrollYBottom > panellImage.offsetTop && scrollYBottom < panellImage.offsetTop + panellImage.offsetHeight + 100){
      const translateX = 80 - 80 * 1.3 * (scrollYBottom - panellImage.offsetTop) / (panellImage.offsetHeight + 100)
      const translateY = -13 + 13 * (scrollYBottom - panellImage.offsetTop) / (panellImage.offsetHeight + 100)
      const translateZ = 40 - 40 * (scrollYBottom - panellImage.offsetTop) / (panellImage.offsetHeight + 100)
      
      flyingSanta.style.transform = `translate(${translateX}px, ${translateY}px) rotate(${translateZ}deg)`
    }
    })

</script>
</html>